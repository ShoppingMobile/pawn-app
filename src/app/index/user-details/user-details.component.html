<h2 class="example-h2">Particular details</h2>
<div layout="row" layout-align="center center">
  <div>
    <h3>{{userDetails?.firstname}} {{userDetails?.lastname}}</h3>
    <p>{{userDetails?.address2}}, {{userDetails?.phone}}</p>
  </div>
</div>

<button type="button" mat-raised-button color="primary" (click)="addParticular(userId, userName)">Add Particular</button>

<form [formGroup]="editParticular" (ngSubmit)="editParticulars(dataSource)">
<mat-table #table [dataSource]="dataSource">
  <!-- Particular Name Column -->
  <ng-container matColumnDef="particular_name">
    <mat-header-cell *matHeaderCellDef>
      Particular Name
    </mat-header-cell>
    <mat-cell *matCellDef="let element">
      <div *ngIf="!isVisible(element.particular_id)">{{element.particular_name}}</div>
      <mat-form-field class="form-group" appearance="outline" *ngIf="isVisible(element.particular_id)">
        <mat-label>Particular Name</mat-label>
        <input formControlName="particular_name" matInput type="text" [(value)]="element.particular_name" name="particular-name" autocomplete="off">
      </mat-form-field>
    </mat-cell>
  </ng-container>

  <!-- Amount Column -->
  <ng-container matColumnDef="amount">
    <mat-header-cell *matHeaderCellDef> Amount </mat-header-cell>
    <mat-cell *matCellDef="let element">
      <div *ngIf="!isVisible(element.particular_id)">{{element.amount}}</div>
      <mat-form-field class="form-group" appearance="outline" *ngIf="isVisible(element.particular_id)">
        <input formControlName="amount" matInput type="text" [(value)]="element.amount" name="amount" autocomplete="off">
      </mat-form-field>
    </mat-cell>
  </ng-container>

  <!-- Status Column -->
  <ng-container matColumnDef="status">
    <mat-header-cell *matHeaderCellDef> Status </mat-header-cell>
    <mat-cell *matCellDef="let element">
      <div *ngIf="!isVisible(element.particular_id)">
        {{element.status}}
      </div>
      <mat-form-field class="form-group" appearance="outline" *ngIf="isVisible(element.particular_id)">
        <mat-select formControlName="status" [(value)]="element.status">
          <mat-option *ngFor="let status of statusDetails" [value]="status">
            {{status}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </mat-cell>
  </ng-container>

  <!-- user id Column -->
  <ng-container matColumnDef="date">
    <mat-header-cell *matHeaderCellDef> Date</mat-header-cell>
    <mat-cell *matCellDef="let element">
      <div *ngIf="!isVisible(element.particular_id)">{{element.date | date: 'dd/MM/yyyy'}} </div>
      <mat-form-field class="form-group" appearance="outline" *ngIf="isVisible(element.particular_id)">
        <input formControlName="date" matInput [matDatepicker]="dp" placeholder="Verbose datepicker" value="{{element.date}}">
        <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>
        <mat-datepicker #dp></mat-datepicker>
      </mat-form-field>
    </mat-cell>

  </ng-container>
  <!-- user id Column -->
  <ng-container matColumnDef="option">
    <mat-header-cell *matHeaderCellDef> Options</mat-header-cell>
    <mat-cell *matCellDef="let element">
      <div *ngIf="!isVisible(element.particular_id)">
        <button type="button" mat-raised-button color="primary"
          (click)="optionParticular(element.particular_id,'edit')">Edit</button>
      </div>
      <div *ngIf="isVisible(element.particular_id)">
        <button type="submit" mat-raised-button color="primary">Save</button>
        <button type="button" mat-raised-button color="secondary"
        (click)="optionParticular(element.particular_id,'cancel')">Cancel</button>
      </div>
    </mat-cell>
  </ng-container>
  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
</mat-table>
</form>